<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="./stomp.min.js"></script>
    <script src="./sockjs.min.js"></script>

    <script type="text/javascript">
        function connect() {
            const socket = new SockJS('http://localhost:10002/ws');
            const stompClient = Stomp.over(socket);
            stompClient.connect({}, function (frame) {
                stompClient.subscribe('/topic/notifications/speeding', function (msg) {
                    console.log("Received speeding notification", JSON.parse(msg.body))
                });
                stompClient.subscribe('/topic/notifications/leaving-area', function (msg) {
                    console.log("Received leaving area notification", JSON.parse(msg.body))
                });
                stompClient.subscribe('/topic/taxis', function (msg) {
                    console.log("Received taxi info", JSON.parse(msg.body))
                });
            });
        }

        setTimeout(connect, 2000)
    </script>
</head>
<body>

</body>
</html>